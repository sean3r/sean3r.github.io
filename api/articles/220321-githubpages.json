{"title":"搭建博客：GitHub Pages，Hexo，Aurora","uid":"8f43c01fe59990b8331a8f88732ed2ff","slug":"220321-githubpages","date":"2022-03-21T14:36:03.000Z","updated":"2022-03-22T07:12:03.801Z","comments":true,"path":"api/articles/220321-githubpages.json","keywords":null,"cover":[],"content":"<p><strong>介绍</strong></p>\n<p>本地系统 windows 10。博客使用 GitHub Pages 网站托管，Hexo 博客框架，Hexo 主题选用 Aurora。</p>\n<p>使用博客时，用Markdown编辑器写内容。hexo 会将 md 文件生成静态网页，并发布至 GitHub，通过 GitHub Pages 所给二级域名直接访问。</p>\n<p>GitHub Pages</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>GitHub Pages is a static site hosting service that takes HTML, CSS, and JavaScript files straight from a repository on GitHub, optionally runs the files through a build process, and publishes a website.</p>\n<p>Git是一个分布式版本控制系统，而Github是一个集成了git的服务，它可以以网页或者客户端的形式，帮助用户把git本地的数据提交到远程的服务器里。</p></blockquote>\n<p>Hexo 博客框架</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p></blockquote>\n<p><strong>第一步</strong></p>\n<ol>\n<li><p>下载 Node.js <a href=\"https://nodejs.org/en/\">download</a>；安装；选默认配置；打开命令行输入<code>node -v</code>看到版本号即安装无误；</p>\n</li>\n<li><p>下载 Git <a href=\"https://git-scm.com/\">download</a>；默认配置安装；命令行 <code>git --version</code>，确认版本；</p>\n<ul>\n<li><p>安装完 Git 会得到 Git Bash 命令行工具；</p>\n</li>\n<li><p>Git 是一个分布式版本控制系统，而 Github 是一个集成了 Git 的服务。Git 可以帮助用户把本地的数据提交到远程的服务器里；</p>\n</li>\n</ul>\n</li>\n<li><p>准备一个github.com账户，例如：用户名: zhangsan, email: <a href=\"mailto:&#122;&#104;&#x61;&#110;&#x67;&#115;&#x61;&#x6e;&#64;&#x61;&#98;&#99;&#x2e;&#99;&#111;&#109;\">&#122;&#104;&#x61;&#110;&#x67;&#115;&#x61;&#x6e;&#64;&#x61;&#98;&#99;&#x2e;&#99;&#111;&#109;</a></p>\n</li>\n</ol>\n<p><strong>建立博客</strong></p>\n<ul>\n<li><p>新建文件夹作为博客的根目录，例如：d:\\myblog；</p>\n</li>\n<li><p>打开 d:\\myblog目录，在文件夹空白区域右击选择 Git Bash Here；</p>\n</li>\n<li><p>命令行：<code>npm install hexo -cli -g</code>;  安装 Hexo，其中参数 -g 是 global，全局安装；</p>\n</li>\n<li><p>命令行：<code>hexo -v</code>；查看是否安装成功</p>\n</li>\n<li><p>命令行：在d:\\myblog下，运行<code>hexo init</code>初始化；现在可以看到myblog目录下多了很多文件。</p>\n</li>\n<li><p>命令行：<code>hexo s</code>；启动hexo博客服务。</p>\n<p><img src=\"/post/220321-githubpages/image-20220322150024246.png\" alt=\"image-20220322150024246\"></p>\n</li>\n<li><p>浏览器访问 <a href=\"http://localhost:4000/\">http://localhost:4000/</a> 可以看到博客界面了。</p>\n</li>\n</ul>\n<p><strong>将本地博客同步至 Github.com</strong></p>\n<ul>\n<li><p>登录 github.com;</p>\n</li>\n<li><p>“github 首页 - New - create a new repository”，新建一个仓库；</p>\n<ul>\n<li><p>owner：zhangsan; &#x2F;&#x2F;输入自己的用户名，最好和 github 用户名相同；</p>\n</li>\n<li><p>repository name：zhangsan；</p>\n</li>\n<li><p>Description：随便写；</p>\n</li>\n<li><p>选中 public；</p>\n</li>\n<li><p>选中 “Add a README file”；</p>\n</li>\n<li><p>点击 “Create repository”。</p>\n</li>\n</ul>\n</li>\n<li><p>使用 ssh 生成密钥对，用以和本地连接；</p>\n<ul>\n<li>打开 “d:\\myblog” 文件夹，空白处右击鼠标，选择 “Git bash here”；</li>\n<li>命令行：<code>ssh-keygen -t rsa -C &quot;你的邮箱地址&quot;</code>；新建密钥对；<ul>\n<li>“Enter file in which to save the key”；直接回车，文件名默认为id_ras.pub。若此处输入了新文件名，后续需要调整路径。最终的结果，id_ras.pub应处于 “c:\\users\\用户名\\.ssh” 目录下；</li>\n<li>“Enter passphrase”；直接回车，则之后的ssh连接不再需要密码。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>公钥放至github</p>\n<ul>\n<li>登录 github.com；</li>\n<li>“点击自己头像 - setting - ssh and GPG keys”；</li>\n<li>选择 “New SSH Key”；将本地 id_ras.pub文件内容copy 至此，保存；</li>\n</ul>\n</li>\n<li><p>在 Git Bash 中配置 github.com 账户信息</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> config --global user.name <span class=\"token string\">\"zhangsan\"</span>\n<span class=\"token function\">git</span> config --global user.email <span class=\"token string\">\"zhangsan@abc.com\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li><p>测试本地和 github.com 之间的连接；</p>\n<ul>\n<li><p>Git Bash命令行：<code>ssh -T git@github.com</code>；</p>\n<p>若成功，会显示：”Hi username, You’ve successfully authenticated, but GitHub does not provide shell access.”</p>\n<p>若报错：” <a href=\"mailto:&#103;&#x69;&#116;&#x40;&#x67;&#105;&#116;&#104;&#x75;&#x62;&#46;&#x63;&#111;&#109;\">&#103;&#x69;&#116;&#x40;&#x67;&#105;&#116;&#104;&#x75;&#x62;&#46;&#x63;&#111;&#109;</a>: Permission denied ( publickey ) “，应是id_ras.pub文件位置问题。</p>\n</li>\n</ul>\n</li>\n<li><p>Hexo 配置修改</p>\n<ul>\n<li><p>文本编辑器打开 “d:\\myblog_config.yml” 文件</p>\n</li>\n<li><p>“#deployment” 和 “#url” 部分，做如下修改：</p>\n</li>\n</ul>\n</li>\n</ul>\n<pre class=\"line-numbers language-txt\" data-language=\"txt\"><code class=\"language-txt\"># Deployment\n## Docs: https://hexo.io/docs/one-command-deployment\ndeploy:\n  type: 'git'\n  repo: git@github.com:zhangsan/zhangsan.github.io.git\n  branch: main<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># URL\n## Set your site url here. For example, if you use GitHub Page, set url as &#39;https:&#x2F;&#x2F;username.github.io&#x2F;project&#39;\nurl: https:&#x2F;&#x2F;zhangsan.github.io\n# 注意是https<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>安装 hexo-deployer-git<ul>\n<li>Git Bash 输入 <code>npm install hexo-deployer-git --save</code>；</li>\n</ul>\n</li>\n<li>这样设置就做好了。之后使用下列命令将本地博客部署至 github.com；</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo clean <span class=\"token comment\">#清除旧页面</span>\nhexo g <span class=\"token comment\">#生成新页面</span>\nhexo d <span class=\"token comment\">#本地同步至 GitHub Pages</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>通过浏览器访问 “zhangsan.github.io” 。</li>\n</ul>\n<p><strong>博客使用</strong></p>\n<p>写博客，</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo new <span class=\"token builtin class-name\">test</span>  <span class=\"token comment\">#生成一个新文件：\\source\\_posts\\test.md；</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>重建页面并运行本地server</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo clean\nhexo g\nhexo s <span class=\"token comment\">#本地服务器运行，即预览</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>部署至 GitHub Pages</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo clean\nhexo g\nhexo d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>参考：hexo docs <a href=\"https://hexo.io/zh-cn/docs/github-pages.html\">https://hexo.io/zh-cn/docs/github-pages.html</a></p>\n<p>写博客时，直接编辑test.md，或把md文件直接放入”_post”。</p>\n<p>hexo clean 会清除 db.json 和 public 所有内容，</p>\n<p>hexo g 会将source中所有的md文件转为html文件放至public 文件夹。</p>\n<p><strong>Hexo Aurora Theme设置</strong></p>\n<p>安装 Aurora 主题包</p>\n<ul>\n<li>博客根目录下打开 git bash；</li>\n<li><code>npm install hexo-theme-aurora --save</code>；安装aurora主题；</li>\n</ul>\n<p>生成Aurora主题配置</p>\n<ul>\n<li>打开文件夹：<code>d:\\myblog\\node_modules\\hexo-theme-aurora</code>，找到_config.yml，更名为_config.aurora.yml；</li>\n<li>将 _config.aurora.yml 移动到根目录（这时根目录有_config.yml和_config.aurora.yml）；</li>\n</ul>\n<p>_config.yml修改</p>\n<p>修改 <code>permalink</code> 参数为 <code>/post/:title.html</code></p>\n<pre class=\"line-numbers language-yml\" data-language=\"yml\"><code class=\"language-yml\"># URL\n## Set your site url here. For example, if you use GitHub Page, set url as &#39;https:&#x2F;&#x2F;username.github.io&#x2F;project&#39;\nurl: https:&#x2F;&#x2F;tridiamond.tech\npermalink: &#x2F;post&#x2F;:title.html\npermalink_defaults:\npretty_urls:\n  trailing_index: true # Set to false to remove trailing &#39;index.html&#39; from permalinks\n  trailing_html: true # Set to false to remove trailing &#39;.html&#39; from permalinks<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>把 highlight 的启用改为 false<br>把 prismjs 的启用改为 true<br>把 prismjs 下的 preprocess 改为 false</p>\n<pre class=\"line-numbers language-yml\" data-language=\"yml\"><code class=\"language-yml\">highlight:\n  enable: false\n  line_number: true\n  auto_detect: false\n  tab_replace: &#39;&#39;\n  wrap: true\n  hljs: false\nprismjs:\n  enable: true\n  preprocess: true\n  line_number: true\n  tab_replace: &#39;&#39;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>theme 改为 Aurora</p>\n<pre class=\"line-numbers language-yml\" data-language=\"yml\"><code class=\"language-yml\"># Extensions\n## Plugins: https:&#x2F;&#x2F;hexo.io&#x2F;plugins&#x2F;\n## Themes: https:&#x2F;&#x2F;hexo.io&#x2F;themes&#x2F;\ntheme: aurora\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>重新生成并启动本地服务器</p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">hexo clean &amp; hexo g &amp; hexo server<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>通过 <a href=\"https://localhost:4000/\">https://localhost:4000</a> 访问你的博客。</p>\n<p><strong>Gitalk 评论组件</strong> </p>\n<p>Gitalk 在_config.aurora.yml中设置。其中，clientID 和 clientsecret 需要从github获取，步骤如下：</p>\n<ul>\n<li>登录github，点击头像，选择 setting；</li>\n<li>选 developer settings；</li>\n<li>选 “OAuth Apps - New OAuth App”；</li>\n<li>Application name：随便取，</li>\n<li>homepage url：填 <a href=\"https://zhangsan.github.io/\">https://zhangsan.github.io</a></li>\n<li>description 随便写</li>\n<li>authorization callback URL：此处同homepage url, 注意，都是https</li>\n<li>点 “register application”；</li>\n<li>记录下 clientID 和 clientsecret，对应地填到 _config.aurora.yml 里。</li>\n</ul>\n<p>设置完，重建服务器后，须先登录 github.com 确认绑定，之后就可以正常评论了。</p>\n<p>Gitalk 仅支持 GitHub 账户登录后进行评论。</p>\n<p>其他 gitalk 参数解释见官方文档：<a href=\"https://aurora.tridiamond.tech/guide/plugins.html#gitalk\">https://aurora.tridiamond.tech/guide/plugins.html#gitalk</a></p>\n<p><strong>参考：</strong></p>\n<p>Hexo themes portal: <a href=\"https://hexo.io/themes/index.html\">https://hexo.io/themes/index.html</a></p>\n<p>Aurora安装配置指南：<a href=\"https://aurora.tridiamond.tech/zh/guide/getting-started.html\">https://aurora.tridiamond.tech/zh/guide/getting-started.html</a></p>\n","feature":true,"text":"介绍 本地系统 windows 10。博客使用 GitHub Pages 网站托管，Hexo 博客框架，Hexo 主题选用 Aurora。 使用博客时，用Markdown编辑器写内容。hexo 会将 md 文件生成静态网页，并发布至 GitHub，通过 GitHub Pages ...","link":"","photos":[],"count_time":{"symbolsCount":"5.2k","symbolsTime":"5 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Sean Ho","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Description here.","socials":{"github":"https://github.com/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"wechat_article_0321","uid":"aec02e83ca4a25088e7aef5b7b15242a","slug":"220321-wechatarticle","date":"2022-03-21T12:04:01.000Z","updated":"2022-03-21T12:07:08.344Z","comments":true,"path":"api/articles/220321-wechatarticle.json","keywords":null,"cover":null,"text":"Hello, world!Refresh this page title nickname update_time link 中金 | 财富管理机构对客户的价值是什么？ 中金货币金融研究 2022-03-21 08:00:00 link 中金 | 海外：刚启动的加息与快倒挂的曲线...","link":"","photos":[],"count_time":{"symbolsCount":"5.9k","symbolsTime":"5 mins."},"categories":[],"tags":[],"author":{"name":"Sean Ho","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Description here.","socials":{"github":"https://github.com/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}